{% extends 'base.html' %}
{% block header %}
<title>Datacenter Blaster</title>
<script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
<script src="{{ url_for('static', path='js/datamaps.world.min.js') }}"></script>
{% endblock header %}

{% block content %}

<h1 class="text-4xl text-center">Datacenter Blaster</h1>


<div id="container"  class="w-full h-full"></div>
<script>
    var bubble_map = new Datamap({
        element: document.getElementById("container"),
        height: 800,
        geographyConfig: {
            popupOnHover: false,
            highlightOnHover: false
        },
        fills: {
            defaultFill: '#2563eb',
            USA: 'blue',
            RUS: 'red'
        }
    });
    bubble_map.bubbles([
        {
            name: 'India',
            radius: 23,
            centered: "IND",
            country: 'USA',
            yield: 0,
            fillKey: 'RUS',
            date: '1954-03-01'
        },
        {
            name: 'Iceland',
            radius: 25,
            yeild: 0,
            country: 'RUS',
            centered: 'USA',
            date: '1986-06-05',
            significance: 'Centered on US',
            fillKey: 'RUS',
            latitude: 64.9312762,
            longitude: -19.0211697
        },
        {
            name: 'Amsterdam',
            radius: 25,
            yeild: 15000,
            country: 'RUS',
            significance: 'First dry fusion fuel "staged" thermonuclear weapon; a serious nuclear fallout accident occurred',
            fillKey: 'RUS',
            date: '1954-03-01',
            latitude: 52.37403,
            longitude:  4.88969
        }, {
            name: 'Sacramento',
            radius: 25,
            yeild: 50000,
            country: 'USSR',
            fillKey: 'RUS',
            significance: 'Largest thermonuclear weapon ever tested—scaled down from its initial 100 Mt design by 50%',
            date: '1961-10-31',
            latitude:  38.58157,
            longitude:  -121.4944
        }, {
            name: 'ALP',
            radius: 25,
            yeild: 50000,
            country: 'USSR',
            fillKey: 'RUS',
            significance: 'Largest thermonuclear weapon ever tested—scaled down from its initial 100 Mt design by 50%',
            date: '1961-10-31',
            latitude: 34.051775 ,
            longitude: -84.274197
        }
    ], {
       popupTemplate: function(geo, data) {
    return '<div class="hoverinfo">Yield:' + data.yeild + 'Exploded on ' + data.date + ' by the '  + data.country + ''
  }
    });
</script>


{% endblock content %}